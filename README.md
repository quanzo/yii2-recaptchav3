Google recaptcha модуль для Yii 2
=================================

Защита сайта от спама с использованием Google Recaptcha v3 (invisible).

Необходимы приватный и публичный ключи.

Установка и подключение
-----------------------

1.  Скопировать в папку с модулями и Подключить *autoload.php*
2.  или используя composer
```
php composer.phar require "quanzo/recaptchav3"
```
или добавить в секцию require проекта
```
"quanzo/recaptchav3": "*"
```
3.  Подключить в *сonfig.php*

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
$config = [
    'bootstrap' => [
        'recaptcha',
    ],
    'modules' => [
        'recaptcha' => [
            'class' => '\x51\yii2\modules\recaptchav3\Module',
            'publicKey' => '...........................',    
            'privateKey' => '...........................',
			'disableForRegisterUser' => true // отключить для зарегистрированных пользователей
        ],
    ], // end modules
];
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Использование
-------------

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
if (\Yii::$app->getModule('recaptcha')->validUser()) {
    echo ':-)';
} else {
    echo ':-(';
}
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Если проверка должна быть отключена - установите константу DISABLE_RECAPTCHA

 
